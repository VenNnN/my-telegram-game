<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Telegram User Info</title>
    <script>
        // Ініціалізуємо Telegram WebApp API
        window.Telegram.WebApp.ready();

        // Отримуємо інформацію про WebApp і дані користувача
        const webApp = window.Telegram.WebApp;

        // Виводимо інформацію про WebApp на сторінку для відладки
        document.addEventListener("DOMContentLoaded", function() {
            document.getElementById("initData").textContent = `initData: ${webApp.initData}`;
            document.getElementById("initDataUnsafe").textContent = `initDataUnsafe: ${JSON.stringify(webApp.initDataUnsafe)}`;
        });

        const user = webApp.initDataUnsafe.user;

        // Перевіряємо, чи передані дані про користувача
        if (user) {
            // Оновлюємо інформацію на сторінці
            document.addEventListener("DOMContentLoaded", function() {
                document.getElementById("userId").textContent = `User ID: ${user.id}`;
                document.getElementById("firstName").textContent = `First Name: ${user.first_name}`;
                document.getElementById("lastName").textContent = `Last Name: ${user.last_name ? user.last_name : 'Not provided'}`;
                document.getElementById("username").textContent = `Username: ${user.username ? user.username : 'Not provided'}`;
            });
        } else {
            document.addEventListener("DOMContentLoaded", function() {
                document.getElementById("userId").textContent = "User ID: Not available";
                document.getElementById("firstName").textContent = "First Name: Not available";
                document.getElementById("lastName").textContent = "Last Name: Not available";
                document.getElementById("username").textContent = "Username: Not available";
            });
        }
    </script>
</head>
<body>
    <h1>Telegram User Info</h1>
    <p id="userId">User ID: Not available</p>
    <p id="firstName">First Name: Not available</p>
    <p id="lastName">Last Name: Not available</p>
    <p id="username">Username: Not available</p>

    <!-- Додаткові елементи для відображення initData та initDataUnsafe -->
    <h2>Debug Info</h2>
    <p id="initData">initData: Not available</p>
    <p id="initDataUnsafe">initDataUnsafe: Not available</p>
</body>
</html>
